<!DOCTYPE html>
<html xmlns="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>이쁜로그인화면가즈아</title>
	<link rel="stylesheet" th:href="@{/css/ex01.css}">
	<br>
	<hr>
	<style>
		/* 토글 버튼에 사용할 사용자 정의 스타일을 여기에 추가하세요 */
		.toggle-button {
			display: inline-block;
			padding: 10px 20px;
			background-color: rgb(35, 35, 35);
			color: rgb(255, 255, 255);
			border: 2px solid rgb(192, 192, 192);
			/* 흰색 테두리 추가 */
			cursor: pointer;
		}

		.toggle-button.selected {
			background-color: rgb(255, 255, 255);
			color: rgb(0, 0, 0);
			font-size: large;
			/* 선택된 옵션에 대한 색상을 변경하세요 */
		}
	</style>

</head>

<body>
	<div class="box">
		<span class="borderLine"></span>
		<form method="post" onsubmit="return validateForm()">

			<div id="selectzz" align="center" style="font-weight: 100 ; color: rgb(128, 255, 255);"><a>타입을 선택해주세요.</a></div>

			<div id="errorMessage" align="center" style="color: red;"></div>
			</br>
			<div align="center" class="login-type">
				<button type="button" class="toggle-button" data-login-type="company"
					onclick="toggleLoginType('company')">기업회원</button>
				<button type="button" class="toggle-button" data-login-type="individual"
					onclick="toggleLoginType('individual')">개인회원</button>

			</div>
			<h2>로그인</h2>
			<div class="inputbox">
				<input type="text" name="userid" required="required" placeholder="이름">
				<i></i>
			</div>
			<div class="inputbox">
				<input type="password" name="userpw" required="required" placeholder="비밀번호">
				<i></i>
			</div>
			<input type="hidden" id="loginType" name="loginType" value=""> <!-- 선택한 로그인 유형을 저장하는 숨은 필드 -->

			<div class="links">
				<a href="/login/find">비밀번호를 잊으셨나요?</a>

				<a href="/join/company">기업회원가입</a>
				<a href="/join/solo">개인회원가입</a>
			</div>
			<input type="submit" value="로그인">
			</form>
	</form>
	<script>
		// 폼 제출을 처리하는 JavaScript 함수
		function validateForm() {
			const loginTypeField = document.getElementById("loginType");
			const errorMessage = document.getElementById("errorMessage");

			if (loginTypeField.value === "") {
				errorMessage.textContent = "로그인 유형을 선택해주세요.";
				return false; // 폼 제출을 막음
			} else {
				errorMessage.textContent = ""; // 에러 메시지를 지움
				return true; // 폼 제출 허용
			}
		}

		function toggleLoginType(type) {
			errorMessage.textContent = ""; // 에러 메시지를 지움
			// JavaScript 코드 추가
			const selectzzDiv = document.getElementById("selectzz");
			selectzzDiv.style.display = "none";

			const buttons = document.querySelectorAll(".toggle-button");
			const loginTypeField = document.getElementById("loginType");

			buttons.forEach(button => {
				const buttonType = button.getAttribute("data-login-type");
				if (buttonType === type) {
					button.classList.add("selected");
					loginTypeField.value = type;
				} else {
					button.classList.remove("selected");
				
				}
			});

			const borderLine = document.querySelector(".borderLine");
			const boxz = document.querySelector(".box");
			


			if (type === "individual") {

				loginTypeField.value = "individual";
				borderLine.style.background = "linear-gradient(0deg, transparent, transparent, rgb(255, 0, 0), rgb(255, 0, 0), rgb(255, 0, 0)) ";
				boxz.style.background = "rgb(255, 0, 0)";
			
			} else if (type === "company") {

				loginTypeField.value = "company";
				borderLine.style.background = "linear-gradient(0deg, transparent, transparent, rgb(0, 0, 255), rgb(0, 0, 255), rgb(0, 0, 255))";
				boxz.style.background = "rgb(0, 0, 255)";
		
			}
		}



	</script>
</body>

</html>