<!DOCTYPE html>
<html xmlns="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>페이지 이동 템플릿</title>
</head>

<body>
	<th:block th:replace="~{admin/adheader}" />
	<!-- soloData는 솔로 데이터가 들어있는 객체입니다. -->
	<!-- 페이지 이동 관련 정보는 soloDTO 객체에 있어야 합니다. -->
	<h2>재직인증관리</h2>
	<!-- 검색 결과 -->
	<div th:if="${soloData == null or soloData.size() == 0}">
		<p>재직 미인증 회원이 없습니다.</p>
	</div>

	<!-- 검색 결과가 있을 때 테이블 표시 -->
	<div th:if="${soloData != null and soloData.size() > 0}">

		<table border="">
			<tr>
				<td>회원번호</td>
				<td>이름</td>
				<td>아이디</td>
				<td>회사이름</td>
				<td>회사아이디</td>
				<td>재직증명서확인</td>
				<td>가입일</td>
				<td>수락</td>
				<td>삭제</td>

			</tr>
			<tr th:each="dto, dtostat : ${soloData}">
				<td th:text="${dto.sno}"></td>
				<td>
					<a th:text="${dto.sname}"></a>
				</td>
				<td>
					<a th:text="${dto.sid}"></a>
				</td>
				<td>
					<a th:text="${dto.scompanyName}"></a>
				</td>
				<td>
					<a th:text="${dto.cid}"></a>
				</td>

				<td>
					<a th:href="'/soloup/' + ${dto.scompanyFile}" th:text="재직증명서">
					</a>
				</td>

			





				<td>
					<span th:text="|가입일:${#dates.format(dto.sjoindate, 'yyyy-MM-dd')}|"></span></p>
				</td>

				<td>
					<a th:href="@{|/admin_solo/checkId/${dto.sno}|}"
						th:onclick="return confirm('[[${dto.sname}]]님의 [[${dto.scompanyName}]] 재직증명을 승인하시겠습니까?')"
						th:text="수락"></a>


				</td>
				<td> <a th:href="@{|/admin_solo/cdelete/${dto.sid}|}"
						th:onclick="return confirm('[[${dto.sname}]]회원님을 삭제하시겠습니까?')" th:text="회원삭제"></a>
				</td>

			</tr>
			<tr>
				<td colspan="9" align="center">
					<!-- 현재값에서 현재값 빼주고 더하기 1한거 -->
					<a th:if="${soloDTO.pageStart > 1}" th:href="${soloDTO.page-soloDTO.page}+1" th:text="'[이전페이지]'" />

					<a th:if="${soloDTO.pageStart < soloDTO.page}" th:href="${soloDTO.page - 1}" th:text="'[이전]'" />
					<th:block th:each="no: ${#numbers.sequence(soloDTO.pageStart, soloDTO.pageEnd)}">
						<span th:if="${no==soloDTO.page}" th:text="${no}" />
						<a th:unless="${no==soloDTO.page}" th:href="${no}" th:text="${no}" />
					</th:block>
					<a th:if="${soloDTO.page < soloDTO.pageEnd}" th:href="${soloDTO.page + 1}" th:text="'[다음]'" />
					<a th:if="${soloDTO.pageEnd < soloDTO.pageTotal}" th:href="${soloDTO.pageTotal}"
						th:text="'[다음페이지]'" />
				</td>
			</tr>


		</table>
	</div>
	<tr align="center">
		<td colspan="2"><a href="/admin_solo/smanagement">목록으로</a></td>
	</tr>


</body>

</html>